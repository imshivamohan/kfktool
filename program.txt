import os
import json

def merge_json_files(directory, output_file):
    # Get a list of all JSON files in the directory
    json_files = [file for file in os.listdir(directory) if file.endswith('.json')]

    with open(output_file, 'w') as outfile:
        for json_file in json_files:
            file_path = os.path.join(directory, json_file)
            with open(file_path, 'r') as infile:
                # Load the JSON data
                data = json.load(infile)
                # Write the JSON data as a single line in the output file
                outfile.write(json.dumps(data) + '\n')

    print(f"All JSON files in {directory} have been merged into {output_file}.")

# Provide the directory and output file path
directory = 'C:/ipm'
output_file = 'merged.json'

# Call the function
merge_json_files(directory, output_file)
